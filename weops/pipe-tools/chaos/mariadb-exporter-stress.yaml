kind: Schedule
apiVersion: chaos-mesh.org/v1alpha1
metadata:
  namespace: mariadb
  name: mariadb-exporter-stress
  annotations:
    experiment.chaos-mesh.org/pause: 'false'
spec:
  schedule: '*/3 * * * *'
  startingDeadlineSeconds: null
  concurrencyPolicy: Allow
  historyLimit: 1
  type: StressChaos
  stressChaos:
    selector:
      namespaces:
        - mariadb
      labelSelectors:
        'pod_type': 'exporter'
    mode: all
    stressors:
      memory:
        workers: 1
        size: 30%
      cpu:
        workers: 1
        load: 30
    duration: 20s
